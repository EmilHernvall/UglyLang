type Greeter (name: string,
              setName: (void)(string),
              setAge: (void)(int),
              greet: (void)());

(Greeter)(string,int) createGreeter =
    (Greeter)(string name_, int age_) {
        return (
            name: name_,
            age: age_,
            setName:(void)(string v) {
                name = v;
            },
            setAge:(void)(int v) {
                age = v;
            },
            greet:(void)() {
                print("Hello " + name + "! You are " + intToStr(age) + " this year.");
            }
        );
    };

Greeter emil = createGreeter("Emil", 26);
emil.greet();
print(emil.name);
emil.setName("Emil Hernvall");
emil.greet();

Greeter tobbe = createGreeter("Torbjörn", 52);
emil.greet();
tobbe.name = "foo";
emil.greet();
print(emil.name);
/*tobbe.greet();
tobbe.setName("Torbjörn Hernvall");
tobbe.setAge(53);
tobbe.greet();*/
